%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TEST FILE - Test Monte Carlo Correction
%
% Uses 75 mm lens ray data from Zemax to test Monte Carlo Correction
% function
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Load ray data collected in Zemax 
load('..\..\data\rays75mm.mat');

binned_data = binData(rays(:,:,1), 0.02, 10, [-0.2 0.2], [-0.2, 0.2], 5, 150);
image = cellfun(@sum,cellfun(@sum, binned_data, 'UniformOutput', 0));
